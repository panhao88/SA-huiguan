{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\src\\components\\tabs\\Tabs.vue?vue&type=style&index=0&id=663bac2f&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\src\\components\\tabs\\Tabs.vue","mtime":1609728346123},{"path":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\admin\\rock-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbnRhaW5lciB7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcGFkZGluZzo1cHg7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7CiAgLmRyYWcgewogICAgZGlzcGxheTogZmxleDsKICB9CiAgLmNvbnRlbnQgewogICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIHBhZGRpbmc6IDJweCAxMHB4OwogICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHotaW5kZXg6IDE7CiAgICB3aGl0ZS1zcGFjZTpub3dyYXA7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAuY2lyY2xlIHsKICAgICAgaGVpZ2h0OiA4cHg7CiAgICAgIHdpZHRoOiA4cHg7CiAgICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICB9CiAgICAuaXRlbSB7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgLmNsb3NlIHsKICAgICAgICB6LWluZGV4OiA5OTsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgIHRvcDogMDsKICAgICAgICByaWdodDogLTZweDsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiAycHg7CiAgICAgICAgei1pbmRleDogMjAyMDsKICAgICAgfQogICAgfQogIH0KICAuYWN0aXZlIHsKICAgIGJhY2tncm91bmQ6ICM0MDllZmY7CiAgICBjb2xvcjogI2ZmZjsKICB9CiAgLnBkIHsKICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7CiAgfQp9Ci5tZW51cyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm94LXNoYWRvdzogMnB4IDJweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMyk7CiAgY29sb3I6ICMzMzM7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIGZvbnQtc2l6ZTogMTJweDsKICBwYWRkaW5nOiA1cHg7CiAgei1pbmRleDogOTk5OTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZGl2IHsKICAgIHBhZGRpbmc6IDdweCA1cHg7CiAgICB6LWluZGV4OiA5OTk5OwogIH0KfQo="},{"version":3,"sources":["Tabs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tabs.vue","sourceRoot":"src/components/tabs","sourcesContent":["<template>\n  <div>\n    <div class=\"container\">\n      <draggable v-model=\"tabList\" class=\"drag\" @update=\"change\">\n        <div\n          v-for=\"(item, index) in tabList\"\n          :key=\"item.name\"\n          class=\"content\"\n          :class=\"{ active: activeName === item.name }\"\n          @click=\"handleClick(item, index)\"\n          @contextmenu=\"contextmenu\"\n        >\n          <div class=\"circle\" v-if=\"activeName === item.name\"></div>\n          <div class=\"item\" :class=\"{ pd: activeName === item.name }\">\n            <div class=\"name\">{{ item.name }}</div>\n            <div\n              v-if=\"(activeName === item.name && tabList.length > 1) || (tabList.length === 1 && item.name !=='首页')\"\n              class=\"close\"\n              @click=\"close\"\n            >\n              <i class=\"el-icon-close\"></i>\n            </div>\n          </div>\n        </div>\n      </draggable>\n    </div>\n    <div\n      class=\"menus\"\n      v-if=\"showMenu\"\n      v-clickoutside=\"handleClickOutside\"\n      :style=\"{ top: top + 'px', left: left + 'px' }\"\n    >\n      <div @click=\"closeOther\">关闭其他</div>\n      <div @click=\"closeLeft\">关闭左侧</div>\n      <div @click=\"closeRight\">关闭右侧</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Clickoutside from 'element-ui/src/utils/clickoutside'\nimport { mapMutations } from 'vuex'\nimport draggable from 'vuedraggable'\nexport default {\n  name: '',\n  props: {},\n  data() {\n    return {\n      activeName: '',\n      top: 0,\n      left: 0,\n      showMenu: false\n    }\n  },\n  components: {\n    draggable\n  },\n  methods: {\n    ...mapMutations(['setTabList']),\n    handleClick(tab, index) {\n      let route = this.$store.state.tabList.find(item => item.name === tab.name)\n      this.activeName = tab.name\n      if (this.$route.meta.title !== tab.name) this.$router.push(route.url)\n    },\n    change(e) {\n      e.preventDefault()\n    },\n    contextmenu(e) {\n      e.preventDefault()\n      this.showMenu = true\n      this.left = e.pageX\n      this.top = e.pageY\n    },\n    handleClickOutside() {\n      this.showMenu = false\n    },\n    close(e) {\n      e.stopPropagation()\n      localStorage.tabList = []\n      if (this.tabList.length === 1 && this.tabList[0].name !== '首页') {\n        let arr = [\n          {\n            name: '首页',\n            url: '/'\n          }\n        ]\n        this.setTabList(arr)\n        localStorage.setItem('tabList', JSON.stringify(arr))\n        this.$router.push('/')\n      }\n      let arr = this.tabList.filter(item => item.name !== this.$route.meta.title)\n      let index = this.tabList.findIndex(item => item.name == this.$route.meta.title)\n      if (this.tabList.length > 1) {\n        if (index === this.tabList.length - 1) {\n          let url = this.tabList[index - 1].url\n          this.$router.push(url)\n        } else {\n          let url = this.tabList[index + 1].url\n          this.$router.push(url)\n        }\n        this.setTabList(arr)\n        localStorage.setItem('tabList', JSON.stringify(arr))\n      }\n    },\n    closeOther() {\n      localStorage.tabList = []\n      let arr = this.tabList.filter(\n        item => item.name === this.$route.meta.title\n      )\n      this.setTabList(arr)\n      localStorage.setItem('tabList', JSON.stringify(arr))\n      this.showMenu = false\n    },\n    closeLeft() {\n      localStorage.tabList = []\n      let index = this.tabList.findIndex(\n        item => item.name == this.$route.meta.title\n      )\n      if (index === 0) {\n        this.$message.error('已经是第一个啦')\n        this.showMenu = false\n      } else {\n        let arr = this.tabList.filter((item, idx) => idx >= index)\n        this.setTabList(arr)\n        this.showMenu = false\n        localStorage.setItem('tabList', JSON.stringify(arr))\n      }\n    },\n    closeRight() {\n      localStorage.tabList = []\n      let index = this.tabList.findIndex(\n        item => item.name == this.$route.meta.title\n      )\n      if (index === this.tabList.length - 1) {\n        this.$message.error('已经是最后一个啦')\n        this.showMenu = false\n      } else {\n        let arr = this.tabList.filter((item, idx) => idx <= index)\n        this.setTabList(arr)\n        this.showMenu = false\n        localStorage.setItem('tabList', JSON.stringify(arr))\n      }\n    }\n  },\n  directives: {\n    Clickoutside\n  },\n  mounted() {\n    this.activeName = this.$route.meta.title\n  },\n  computed: {\n    tabList: {\n      get() {\n        return this.$store.state.tabList\n      },\n      set(val) {\n        localStorage.tabList = []\n        localStorage.setItem('tabList', JSON.stringify(val))\n        this.setTabList(val)\n      }\n    }\n  },\n  watch: {\n    $route(val) {\n      this.activeName = val.meta.title\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  padding:5px;\n  border-bottom: 1px solid #eee;\n  .drag {\n    display: flex;\n  }\n  .content {\n    border: 1px solid #ddd;\n    font-size: 12px;\n    padding: 2px 10px;\n    margin-right: 5px;\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 1;\n    white-space:nowrap;\n    cursor: pointer;\n    .circle {\n      height: 8px;\n      width: 8px;\n      background: #fff;\n      border-radius: 50%;\n      margin-right: 5px;\n    }\n    .item {\n      position: relative;\n      .close {\n        z-index: 99;\n        position: absolute;\n        font-size: 12px;\n        top: 0;\n        right: -6px;\n        padding-right: 2px;\n        z-index: 2020;\n      }\n    }\n  }\n  .active {\n    background: #409eff;\n    color: #fff;\n  }\n  .pd {\n    padding-right: 10px;\n  }\n}\n.menus {\n  position: absolute;\n  background: #fff;\n  box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.3);\n  color: #333;\n  border-radius: 4px;\n  font-size: 12px;\n  padding: 5px;\n  z-index: 9999;\n  cursor: pointer;\n  div {\n    padding: 7px 5px;\n    z-index: 9999;\n  }\n}\n</style>\n"]}]}