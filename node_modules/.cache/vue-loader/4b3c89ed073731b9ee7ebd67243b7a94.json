{"remainingRequest":"C:\\work\\workspace\\rock-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\workspace\\rock-ui\\src\\components\\custdetails\\Contacts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\workspace\\rock-ui\\src\\components\\custdetails\\Contacts.vue","mtime":1610697497106},{"path":"C:\\work\\workspace\\rock-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\workspace\\rock-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\work\\workspace\\rock-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\workspace\\rock-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gInZ1ZXgiOw0KY29uc3QgdXNlck1vZHVsZSA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJjdXN0b21lciIpOw0KY29uc3QgeyBtYXBTdGF0ZTogdXNlclN0YXRlLCBtYXBBY3Rpb25zOiB1c2VyQWN0aW9ucyB9ID0gdXNlck1vZHVsZTsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIiIsDQogIHByb3BzOiB7DQogICAgaWRzOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgfSwNCiAgfSwNCiAgY29tcG9uZW50czoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNpZDogIiIsDQogICAgICBvdXRlclZpc2libGU6IGZhbHNlLA0KICAgICAgZGlhbG9nRm9ybTogZmFsc2UsDQogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICBpZDonJywgLy/lrqLmiLfnvJbovpFpZA0KICAgICAgcnVsZWdvdG86IHsNCiAgICAgICAgbmFtZTogIiIsDQogICAgICAgIHNleDogIiIsDQogICAgICAgIGFnZTogIiIsDQogICAgICAgIHBob25lOiAiIiwNCiAgICAgICAgd2VjaGF0OiAiIiwNCiAgICAgICAgcXE6ICIiLA0KICAgICAgICBhZGRyZXNzOiAiIiwNCiAgICAgICAgaWRDYXJkOiAiIiwNCiAgICAgICAgam9iOiAiIiwNCiAgICAgIH0sDQogICAgICBydWxlRm9ybTogew0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgc2V4OiAiIiwNCiAgICAgICAgYWdlOiAiIiwNCiAgICAgICAgcGhvbmU6ICIiLA0KICAgICAgICB3ZWNoYXQ6ICIiLA0KICAgICAgICBxcTogIiIsDQogICAgICAgIGFkZHJlc3M6ICIiLA0KICAgICAgICBpZENhcmQ6ICIiLA0KICAgICAgICBqb2I6ICIiLA0KICAgICAgfSwNCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAiOTBweCIsDQogICAgICBydWxlczogew0KICAgICAgICBuYW1lOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAi5aeT5ZCN5LiN6IO95Li656m6IiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICAgc2V4OiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAi5oCn5Yir5LiN6IO95Li656m6IiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICBhZ2U6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlubTpvoTkuI3og73kuLrnqboiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICAgIHBob25lOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAi55S16K+d5LiN6IO95Li656m6IiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgICB7DQogICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsNCiAgICAgICAgICAgICAgdmFyIE1vYmlsZVJlZ2V4ID0gL14xWzAtOV17MTB9JC87DQogICAgICAgICAgICAgIGlmICghTW9iaWxlUmVnZXgudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuaJi+acuuWPt+eggeagvOW8j+S4jeato+ehru+8gSIpKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi51c2VyQWN0aW9ucyhbDQogICAgICAiYWRkY3VzdG9tZXJDb250YWN0IiwNCiAgICAgICJnZXRjb250YWN0cyIsDQogICAgICAiZGV0ZWxlY3VzdG9tZXJDb250YWN0IiwNCiAgICAgICJ1cGRhdGVjdXN0b21lckNvbnRhY3QiDQogICAgXSksDQogICAgLy/ogZTns7vkurrnvJbovpENCiAgICBoYW5kbGVFZGl0KGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMuaWQgPSByb3cuaWQNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgICAgdGhpcy5ydWxlRm9ybS5uYW1lID0gcm93Lm5hbWU7DQogICAgICB0aGlzLnJ1bGVGb3JtLnNleCA9IHJvdy5zZXg7DQogICAgICB0aGlzLnJ1bGVGb3JtLmFnZSA9IHJvdy5hZ2U7DQogICAgICB0aGlzLnJ1bGVGb3JtLnBob25lID0gcm93LnBob25lOw0KICAgICAgdGhpcy5ydWxlRm9ybS53ZWNoYXQgPSByb3cud2VjaGF0Ow0KICAgICAgdGhpcy5ydWxlRm9ybS5xcSA9IHJvdy5xcTsNCiAgICAgIHRoaXMucnVsZUZvcm0uYWRkcmVzcyA9IHJvdy5hZGRyZXNzOw0KICAgICAgdGhpcy5ydWxlRm9ybS5pZENhcmQgPSByb3cuaWRDYXJkOw0KICAgICAgdGhpcy5ydWxlRm9ybS5qb2IgPSByb3cuam9iOw0KICAgIH0sDQogICAgLy/noa7orqTnvJbovpENCiAgICB1cGRhdGUoZm9ybU5hbWUpIHsNCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgaWYodGhpcy5ydWxlRm9ybS5zZXggPT09ICLnlLciKXsNCiAgICAgICAgICAgIHRoaXMucnVsZUZvcm0uc2V4ID0gMQ0KICAgICAgICAgIH1lbHNlIGlmKHRoaXMucnVsZUZvcm0uc2V4ID09PSAi5aWzIil7DQogICAgICAgICAgICAgdGhpcy5ydWxlRm9ybS5zZXggPSAwDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMudXBkYXRlY3VzdG9tZXJDb250YWN0KHsNCiAgICAgICAgICAgIGNpZDogdGhpcy5pZHMsDQogICAgICAgICAgICBuYW1lOiB0aGlzLnJ1bGVGb3JtLm5hbWUsDQogICAgICAgICAgICBzZXg6IHRoaXMucnVsZUZvcm0uc2V4LA0KICAgICAgICAgICAgYWdlOiB0aGlzLnJ1bGVGb3JtLmFnZSwNCiAgICAgICAgICAgIHBob25lOiB0aGlzLnJ1bGVGb3JtLnBob25lLA0KICAgICAgICAgICAgd2VjaGF0OiB0aGlzLnJ1bGVGb3JtLndlY2hhdCwNCiAgICAgICAgICAgIHFxOiB0aGlzLnJ1bGVGb3JtLnFxLA0KICAgICAgICAgICAgYWRkcmVzczogdGhpcy5ydWxlRm9ybS5hZGRyZXNzLA0KICAgICAgICAgICAgaWRDYXJkOiB0aGlzLnJ1bGVGb3JtLmlkQ2FyZCwNCiAgICAgICAgICAgIGpvYjogdGhpcy5ydWxlRm9ybS5qb2IsDQogICAgICAgICAgICAgaWQ6dGhpcy5pZCwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy/liKDpmaQNCiAgICBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgew0KICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkLCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwNCiAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuZGV0ZWxlY3VzdG9tZXJDb250YWN0KHsNCiAgICAgICAgICAgIGlkOiByb3cuaWQsDQogICAgICAgICAgICBjaWQ6dGhpcy5pZHMsDQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAiaW5mbyIsDQogICAgICAgICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5Yig6ZmkIiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+ehruiupOaWsOWing0KICAgIGFkZChmb3JtTmFtZSkgew0KICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHRoaXMuYWRkY3VzdG9tZXJDb250YWN0KHsNCiAgICAgICAgICAgIGNpZDogdGhpcy5pZHMsDQogICAgICAgICAgICBuYW1lOiB0aGlzLnJ1bGVnb3RvLm5hbWUsDQogICAgICAgICAgICBzZXg6IHRoaXMucnVsZWdvdG8uc2V4LA0KICAgICAgICAgICAgYWdlOiB0aGlzLnJ1bGVnb3RvLmFnZSwNCiAgICAgICAgICAgIHBob25lOiB0aGlzLnJ1bGVnb3RvLnBob25lLA0KICAgICAgICAgICAgd2VjaGF0OiB0aGlzLnJ1bGVnb3RvLndlY2hhdCwNCiAgICAgICAgICAgIHFxOiB0aGlzLnJ1bGVnb3RvLnFxLA0KICAgICAgICAgICAgYWRkcmVzczogdGhpcy5ydWxlZ290by5hZGRyZXNzLA0KICAgICAgICAgICAgaWRDYXJkOiB0aGlzLnJ1bGVnb3RvLmlkQ2FyZCwNCiAgICAgICAgICAgIGpvYjogdGhpcy5ydWxlZ290by5qb2IsDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5kaWFsb2dGb3JtID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5ydWxlZ290byA9IHt9Ow0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldGNvbnRhY3RzKHsNCiAgICAgIGNpZDogdGhpcy5pZHMsDQogICAgfSk7DQogIH0sDQogIHdhdGNoOiB7fSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi51c2VyU3RhdGUoWyJjb250YWN0cyJdKSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Contacts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Contacts.vue","sourceRoot":"src/components/custdetails","sourcesContent":["<template>\r\n  <div>\r\n    <el-card>\r\n      <el-button type=\"primary\" size=\"mini\" @click=\"dialogForm = true\"\r\n        >新增联系人</el-button\r\n      >\r\n    </el-card>\r\n    <el-card>\r\n      <el-table\r\n        :data=\"contacts\"\r\n        style=\"width: 100%; margin-top: 20px\"\r\n        border\r\n        align=\"center\"\r\n        show-overflow-tooltip\r\n      >\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"姓名\"\r\n          width=\"80\"\r\n          align=\"center\"\r\n          fixed=\"left\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"sex\"\r\n          label=\"性别\"\r\n          align=\"center\"\r\n          width=\"50\"\r\n          fixed=\"left\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"age\"\r\n          label=\"年龄\"\r\n          align=\"center\"\r\n          width=\"50\"\r\n          fixed=\"left\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column prop=\"phone\" label=\"电话\" align=\"center\" width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"wechat\"\r\n          label=\"微信号\"\r\n          align=\"center\"\r\n          width=\"150\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column prop=\"qq\" label=\"QQ号\" align=\"center\" width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"address\"\r\n          label=\"居住地址\"\r\n          align=\"center\"\r\n          width=\"160\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"idCard\"\r\n          label=\"身份证号码\"\r\n          align=\"center\"\r\n          width=\"260\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column prop=\"job\" label=\"职务\" align=\"center\" width=\"150\">\r\n        </el-table-column>\r\n        <!-- 操纵 -->\r\n        <el-table-column\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          :show-overflow-tooltip=\"true\"\r\n          width=\"130\"\r\n          fixed=\"right\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip content=\"编辑\" placement=\"top\">\r\n              <el-button\r\n                size=\"mini\"\r\n                @click=\"handleEdit(scope.$index, scope.row)\"\r\n                type=\"primary\"\r\n              >\r\n                <i class=\"el-icon-edit\"></i>\r\n              </el-button>\r\n            </el-tooltip>\r\n            <el-tooltip content=\"删除\" placement=\"top\">\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"handleDelete(scope.$index, scope.row)\"\r\n              >\r\n                <i class=\"el-icon-delete\"></i>\r\n              </el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 新增联系人 -->\r\n      <el-dialog\r\n        title=\"新增联系人\"\r\n        :visible.sync=\"dialogForm\"\r\n        width=\"30%\"\r\n        append-to-body\r\n      >\r\n        <el-form :model=\"rulegoto\" :rules=\"rules\" ref=\"rulegoto\">\r\n          <el-form-item label=\"姓名\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n            <el-input v-model=\"rulegoto.name\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"性别\" :label-width=\"formLabelWidth\" prop=\"sex\">\r\n            <el-radio-group v-model=\"rulegoto.sex\" >\r\n              <el-radio label=\"男\">男</el-radio>\r\n              <el-radio label=\"女\">女</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"年龄\" :label-width=\"formLabelWidth\" prop=\"age\">\r\n            <el-input v-model=\"rulegoto.age\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"电话\" :label-width=\"formLabelWidth\" prop=\"phone\">\r\n            <el-input v-model=\"rulegoto.phone\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"微信号\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"wechat\"\r\n          >\r\n            <el-input v-model=\"rulegoto.wechat\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"QQ号码\" :label-width=\"formLabelWidth\" prop=\"qq\">\r\n            <el-input v-model=\"rulegoto.qq\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"居住地址\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"address\"\r\n          >\r\n            <el-input v-model=\"rulegoto.address\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"身份证号码\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"idCard\"\r\n          >\r\n            <el-input v-model=\"rulegoto.idCard\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"职务\" :label-width=\"formLabelWidth\" prop=\"job\">\r\n            <el-input v-model=\"rulegoto.job\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogForm = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"add('rulegoto')\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      <!-- 联系人编辑 -->\r\n      <el-dialog\r\n        title=\"编辑联系人\"\r\n        :visible.sync=\"dialogFormVisible\"\r\n        width=\"30%\"\r\n        append-to-body\r\n      >\r\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\">\r\n          <el-form-item label=\"姓名\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n            <el-input v-model=\"ruleForm.name\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"性别\" :label-width=\"formLabelWidth\" prop=\"sex\">\r\n            <!-- <el-input v-model=\"rulegoto.sex\" auto-complete=\"off\"></el-input> -->\r\n            <el-radio-group v-model=\"ruleForm.sex\">\r\n              <el-radio label=\"男\">男</el-radio>\r\n              <el-radio label=\"女\">女</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"年龄\" :label-width=\"formLabelWidth\" prop=\"age\">\r\n            <el-input v-model=\"ruleForm.age\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"电话\" :label-width=\"formLabelWidth\" prop=\"phone\">\r\n            <el-input v-model=\"ruleForm.phone\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"微信号\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"wechat\"\r\n          >\r\n            <el-input v-model=\"ruleForm.wechat\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"QQ号码\" :label-width=\"formLabelWidth\" prop=\"qq\">\r\n            <el-input v-model=\"ruleForm.qq\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"居住地址\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"address\"\r\n          >\r\n            <el-input v-model=\"ruleForm.address\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"身份证号码\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"idCard\"\r\n          >\r\n            <el-input v-model=\"ruleForm.idCard\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"职务\" :label-width=\"formLabelWidth\" prop=\"job\">\r\n            <el-input v-model=\"ruleForm.job\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"update('ruleForm')\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst userModule = createNamespacedHelpers(\"customer\");\r\nconst { mapState: userState, mapActions: userActions } = userModule;\r\nexport default {\r\n  name: \"\",\r\n  props: {\r\n    ids: {\r\n      type: Number,\r\n    },\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      cid: \"\",\r\n      outerVisible: false,\r\n      dialogForm: false,\r\n      dialogFormVisible: false,\r\n      id:'', //客户编辑id\r\n      rulegoto: {\r\n        name: \"\",\r\n        sex: \"\",\r\n        age: \"\",\r\n        phone: \"\",\r\n        wechat: \"\",\r\n        qq: \"\",\r\n        address: \"\",\r\n        idCard: \"\",\r\n        job: \"\",\r\n      },\r\n      ruleForm: {\r\n        name: \"\",\r\n        sex: \"\",\r\n        age: \"\",\r\n        phone: \"\",\r\n        wechat: \"\",\r\n        qq: \"\",\r\n        address: \"\",\r\n        idCard: \"\",\r\n        job: \"\",\r\n      },\r\n      formLabelWidth: \"90px\",\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: \"姓名不能为空\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n         sex: [\r\n          {\r\n            required: true,\r\n            message: \"性别不能为空\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        age: [\r\n          {\r\n            required: true,\r\n            message: \"年龄不能为空\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        phone: [\r\n          {\r\n            required: true,\r\n            message: \"电话不能为空\",\r\n            trigger: \"blur\",\r\n          },\r\n           {\r\n            validator: function (rule, value, callback) {\r\n              var MobileRegex = /^1[0-9]{10}$/;\r\n              if (!MobileRegex.test(value)) {\r\n                callback(new Error(\"手机号码格式不正确！\"));\r\n              } else {\r\n                callback();\r\n              }\r\n            },\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    ...userActions([\r\n      \"addcustomerContact\",\r\n      \"getcontacts\",\r\n      \"detelecustomerContact\",\r\n      \"updatecustomerContact\"\r\n    ]),\r\n    //联系人编辑\r\n    handleEdit(index, row) {\r\n      this.id = row.id\r\n      this.dialogFormVisible = true;\r\n      this.ruleForm.name = row.name;\r\n      this.ruleForm.sex = row.sex;\r\n      this.ruleForm.age = row.age;\r\n      this.ruleForm.phone = row.phone;\r\n      this.ruleForm.wechat = row.wechat;\r\n      this.ruleForm.qq = row.qq;\r\n      this.ruleForm.address = row.address;\r\n      this.ruleForm.idCard = row.idCard;\r\n      this.ruleForm.job = row.job;\r\n    },\r\n    //确认编辑\r\n    update(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.dialogFormVisible = false;\r\n          if(this.ruleForm.sex === \"男\"){\r\n            this.ruleForm.sex = 1\r\n          }else if(this.ruleForm.sex === \"女\"){\r\n             this.ruleForm.sex = 0\r\n          }\r\n          this.updatecustomerContact({\r\n            cid: this.ids,\r\n            name: this.ruleForm.name,\r\n            sex: this.ruleForm.sex,\r\n            age: this.ruleForm.age,\r\n            phone: this.ruleForm.phone,\r\n            wechat: this.ruleForm.wechat,\r\n            qq: this.ruleForm.qq,\r\n            address: this.ruleForm.address,\r\n            idCard: this.ruleForm.idCard,\r\n            job: this.ruleForm.job,\r\n             id:this.id,\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //删除\r\n    handleDelete(index, row) {\r\n      this.$confirm(\"此操作将永久删除, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.detelecustomerContact({\r\n            id: row.id,\r\n            cid:this.ids,\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    //确认新增\r\n    add(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.addcustomerContact({\r\n            cid: this.ids,\r\n            name: this.rulegoto.name,\r\n            sex: this.rulegoto.sex,\r\n            age: this.rulegoto.age,\r\n            phone: this.rulegoto.phone,\r\n            wechat: this.rulegoto.wechat,\r\n            qq: this.rulegoto.qq,\r\n            address: this.rulegoto.address,\r\n            idCard: this.rulegoto.idCard,\r\n            job: this.rulegoto.job,\r\n          });\r\n          this.dialogForm = false;\r\n          this.rulegoto = {};\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getcontacts({\r\n      cid: this.ids,\r\n    });\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    ...userState([\"contacts\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n</style>"]}]}